<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="content-type" content="text/html;charset=utf-8"/>
  <link rel="shortcut icon" href="#"/>
  <link rel="stylesheet" type="text/css" href="{{pluResPath}}html/userAdmin/userAdmin.css"/>
</head>
<body id="container">
<div class="container">
  <div class="stat">
    <div class="total">{{count.last}}</div>
    <ul class="detail">
      <li>
        <strong>
          <b>总用户量</b>
          <i>注册用户+系统CK</i>
        </strong>
        <span>{{count.total}}</span>
      </li>
      {{set mysCount = servs?.mys?.count }}
      <li>
        <strong>
          <b>米游社</b>
          <i>可用/失效</i>
        </strong>
        <span>{{mysCount?.total}} ({{mysCount?.normal}}/{{mysCount?.disable}})</span>
      </li>
      {{set hoyoCount = servs?.hoyo?.count }}
      <li>
        <strong>
          <b>HoyoLab</b>
          <i>可用/失效</i>
        </strong>
        <span>{{hoyoCount?.normal}} ({{hoyoCount?.normal}}/{{hoyoCount?.disable}})</span>
      </li>
    </ul>
    <div class="cookie-type yes">已使用NoteCookie</div>
  </div>
  {{set servName = {mys:'米游社', hoyo:'HoyoLab'} }}
  {{each servs servData servKey}}
  <div class="cont-title">{{servName[servKey]}}-CK列表 (请求次数 / CK-Ltuid)</div>
  <div class="uids">
    {{if servData.list.length > 0 }}
    {{each servData.list uid}}
    <div class="uid type-{{uid.type}}">
      <div class="uid-inner">
        <span>{{uid.num>29 ? "×" : uid.num}}</span>
        {{uid.ltuid}}
      </div>
      <div class="uid-process" style="left:-{{ 100-uid.num/29*100 }}%"></div>
    </div>
    {{/each}}
    {{else}}
    <div class="uid">暂无</div>
    {{/if}}
  </div>
  {{/each}}
  <div class="notice">
    <ul>
      <li>已默认开启全部CK的使用</li>
      <li>系统将全局最优化使用查询CK，可大幅降低CK使用次数消耗</li>
      <li>如果CK记录或请求统计不正确，管理员可以使用命令<span>#重置用户缓存</span>来强制重置并刷新查询记录</li>
      <li>查询所有注册Cookie的用户，以及今日已查询过的角色均不会消耗查询次数</li>
      <li>预计剩余查询次数为预计值，仅供参考</li>
    </ul>
  </div>
</div>
</body>
</html>